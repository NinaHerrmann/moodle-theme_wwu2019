// This file is part of Moodle - http://moodle.org/
//
// Moodle is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// Moodle is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

/**
 * WWU 2019
 *
 * @package    theme_wwu2019
 * @copyright  2019 Justus Dieckmann WWU
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */

$mobile-break-point: 767px;
$col2-break-point: 945px;

$learnwebblue: #006784;
$dividergrey: #423c39;

@font-face {
    font-family: 'MetaWebPro-Normal';
    src: url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normal.eot");
    src:
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normal.eot?#iefix") format("embedded-opentype"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normal.woff") format("woff"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metacomppro-normal.ttf") format("truetype"),
        url("https://www.uni-muenster.de/imperia/md/images/allgemein/farbunabhaengig/fonts/metacomppro-normal.svg#metacomppro-normal") format("svg");
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: 'MetaWebPro-NormalIta';
    src: url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normalita.eot");
    src:
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normalita.eot?#iefix") format("embedded-opentype"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-normalita.woff") format("woff"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metacomppro-normalita.ttf") format("truetype"),
        url("https://www.uni-muenster.de/imperia/md/images/allgemein/farbunabhaengig/fonts/metacomppro-normalita.svg#metacomppro-normalita") format("svg");
    font-weight: 400;
    font-style: italic;
}

@font-face {
    font-family: 'MetaWebPro-Bold';
    src: url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-bold.eot");
    src:
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-bold.eot?#iefix") format("embedded-opentype"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-bold.woff") format("woff"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metacomppro-bold.ttf") format("truetype"),
        url("https://www.uni-muenster.de/imperia/md/images/allgemein/farbunabhaengig/fonts/metacomppro-bold.svg#metacomppro-bold") format("svg");
    font-weight: 700;
    font-style: normal;
}

@font-face {
    font-family: 'MetaWebPro-BoldIta';
    src: url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-boldita.eot");
    src:
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-boldita.eot?#iefix") format("embedded-opentype"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metawebpro-boldita.woff") format("woff"),
        url("https://www.uni-muenster.de/imperia/md/content/allgemein/farbunabhaengig/fonts/metacomppro-boldita.ttf") format("truetype"),
        url("https://www.uni-muenster.de/imperia/md/images/allgemein/farbunabhaengig/fonts/metacomppro-boldita.svg#metacomppro-boldita") format("svg");
    font-weight: 700;
    font-style: italic;
}

body {
    background-color: #fff;
    font-family: 'MetaWebPro-Normal', sans-serif;
}

h1 {
    font-size: 1.4em;
}

h2 {
    font-size: 1.3em;
}

h3,
#adminsettings h3 {
    font-size: 1.2em;
}

h4 {
    font-size: 1.1em;
}

h5 {
    font-size: 1em;
}

#page {
    width: 100%;
    max-width: 1440px;
    padding: 16px;
    position: relative;
    margin-top: 0;
    margin-left: auto;
    margin-right: auto;
}

/* Header and Logos */
#logo-header {
    padding-bottom: 1.25rem;

    a.wwu-logo {
        text-align: left;
        display: block;
        height: 81px;
        width: 280px;
        background-size: contain;
        background-position: left center;
        background-repeat: no-repeat;
        background-image: url("https://www.uni-muenster.de/imperia/md/images/allgemein/farbunabhaengig/wwu.svg");

        @media (max-width: $mobile-break-point) {
            background-position: -82px center;
            background-size: cover;
            width: 81px;
        }

        @media (max-width: 290px) {
            display: none;
        }
    }

    a.learnweb-logo img {
        max-height: 81px;
    }
}

/* Navigation */

ul[role="menu"],
ul[role="menubar"] {
    list-style: none;
    padding: 0;
    margin: 0;
}

#main-menu-placeholder {
    height: 52px;
    overflow: visible;
}

#main-menu {
    position: relative;
    height: 100%;
    z-index: 990;
    background: white;

    a {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
    }

    a:focus {
        outline: none;
    }

    a:hover {
        text-decoration: none;

        & > .underline {
            text-decoration: underline;
        }
    }

    &.sticky {
        position: fixed;
        max-width: 1440px;
        padding-left: 16px;
        padding-right: 16px;
        margin: auto;
        top: 0;
        left: 0;
        right: 0;
        height: inherit;
    }

    #main-menu-border {
        position: relative;
        padding: 12px 0;
        border-bottom: 4px solid $dividergrey;
    }

    .main-menu-item {
        &:not(:first-child) {
            padding-left: 15px;
        }

        &:not(:last-child) {
            padding-right: 15px;
            border-right: 1px solid black;
        }

        span,
        .icon {
            color: black;
            text-transform: uppercase;
            font-size: 1.34375em;
            line-height: 1.2em;
        }

        &.open > a > span.underline {
            text-decoration: underline;
        }

        .sub-menu-wrapper {
            display: none;

            padding-top: 16px;
            position: absolute;
            width: 100%;
            z-index: 999;
            border-bottom: 4px solid $dividergrey;
            overflow: hidden;
            left: 0;

            .sub-menu {
                position: relative;
                display: table;
                table-layout: fixed;
                // Hide padding of leftmost items.
                margin-right: -16px;
                // Hide divider below bottommost items.
                margin-bottom: -1px;
                width: calc(100% + 16px);
                background: white;

                .breaker {
                    display: none;

                    &.c3 {
                        @media (min-width: $col2-break-point + 1) {
                            display: table-cell;
                            width: 0;
                        }
                    }

                    &.c2 {
                        @media (min-width: $mobile-break-point + 1) and (max-width: $col2-break-point) {
                            display: table-cell;
                            width: 0;
                        }
                    }
                }
            }
        }

        &.open {
            .sub-menu-wrapper {
                display: block;
            }
        }
    }

    .sub-menu-item {
        width: 100%;
        display: block;
        padding-right: 16px;
        line-height: 20px;

        & > a {
            display: block;
            width: 100%;
            padding: 12px 12px 12px 0;
            border-bottom: 1px solid black;

            & > span,
            & > .icon {
                font-size: 16px;
                color: $learnwebblue;
            }

            & > .arrow {
                background-image: url(#{$wwwroot}/theme/wwu2019/pix/arrow_down.svg);
                width: 21px;
                height: 21px;
                float: right;
                background-size: cover;
                margin-top: 2px;
            }
        }

        &.open > a > .arrow {
            background-image: url(#{$wwwroot}/theme/wwu2019/pix/arrow_up.svg);
        }

        .sub-sub-menu {
            display: none;
            font-size: 10.5px;
            list-style: none;
            padding: 4px 0 4px 20px;
            border-bottom: 1px solid black;

            // Second level sub-sub-menu.
            .sub-sub-menu {
                border-top: 1px solid black;
            }
        }

        &.open > .sub-sub-menu {
            display: block;
        }
    }

    .sub-sub-menu-item {
        cursor: pointer;

        & > a {
            display: block;
            width: 100%;
            height: 100%;
            padding: 2px 2px;

            & > span {
                line-height: 20px;
                text-transform: none;
            }

            & > .icon {
                margin-right: 5px;
                vertical-align: top;
            }

            & > .arrow {
                background-image: url(#{$wwwroot}/theme/wwu2019/pix/arrow_down.svg);
                width: 21px;
                height: 21px;
                float: right;
                background-size: cover;
            }
        }

        &.open > a > .arrow {
            background-image: url(#{$wwwroot}/theme/wwu2019/pix/arrow_up.svg);
        }

        &.open > .sub-sub-menu {
            margin: 4px 0;
            display: block;
        }
    }
}